{"code":"!function(n){var o={};function r(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.m=n,r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=113)}({113:function(e,t,n){\"use strict\";(new(n(15).chromaFormHandler)).init()},15:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var o,r=n(9);var c=new((o=r)&&o.__esModule?o:{default:o}).default;t.default=function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,i=location.protocol+\"//\"+window.location.hostname+\"/wp-json/chroma/form-processer/\",n=encodeURI(window.location);function o(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:\"subscribe\";fetch(i,{method:\"post\",headers:{\"Content-type\":\"application/x-www-form-urlencoded; charset=UTF-8\"},body:\"&email=\"+e+\"&type=\"+t+\"&currURL=\"+n}).then(function(e){return e.text()}).then(function(e){var t=e;if(console.log(t),a(t)&&null!==r){var n=!(!Array.isArray(t)||\"Already Subscribed!\"!==t[0]);console.log(\"dup \"+n+t[0]),r(n)}}).catch(function(e){return console.log(\"Form submission error: \"+e)})}function a(e){if(e=e.split(\",\"),Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)e[t]=e[t].replace(/\"/g,\"\"),e[t]=e[t].replace(/]/g,\"\"),e[t]=e[t].replace(/\\[/g,\"\");var o=document.getElementById(\"errorMessage\"),r=document.getElementById(\"errorMessage2\");o.classList.remove(\"is-active\"),o.innerText=e[0],r.innerText=e[1],o.classList.add(\"is-active\")}else{e=e.replace(/\"/g,\"\");var i=document.getElementById(\"errorMessage\");i.classList.remove(\"is-active\"),i.innerText=e,i.classList.add(\"is-active\")}return!0}this.facebookSignup=function(o){FB.api(\"/me\",\"GET\",{fields:\"id,name,email\"},function(t){window.location.hostname;var e=encodeURI(window.location),n=\"&email=\"+t.email+\"&type=fblogin&currURL=\"+e;fetch(i,{method:\"post\",headers:{\"Content-type\":\"application/x-www-form-urlencoded; charset=UTF-8\"},body:n}).then(function(e){return e.text()}).then(function(e){var t=e;if(a(t)&&null!==r){var n=!(!Array.isArray(t)||\"Already Subscribed!\"!==t[0]);console.log(\"dup \"+n),r(n)}null!==o.getAttribute(\"data-next\")&&-1!==o.getAttribute(\"data-next\").indexOf(\"http\")&&(window.location=o.getAttribute(\"data-next\"))}).catch(function(e){alert(\"Facebook Login Error. Please try again later.\"),console.log(t)})})},this.init=function(){try{if(doesExist(document.getElementById(\"subscribe\"))){var n=document.getElementById(\"subscribe\");n.addEventListener(\"submit\",function(e){e.preventDefault();var t=n.getAttribute(\"data-type\");t=null!==t?t:\"subscribe\",o(document.getElementById(\"subscribeEmail\").value,t)})}0<document.getElementsByClassName(\"fb-arrow\").length&&[].forEach.call(document.getElementsByClassName(\"fb-arrow\"),function(t){t.addEventListener(\"click\",function(e){e.preventDefault(),c.fbLogin(t)})}),doesExist(document.getElementById(\"unsub\"))&&document.getElementById(\"unsub\").addEventListener(\"submit\",function(e){e.preventDefault(),o(document.getElementById(\"unsubEmail\").value,\"unsubscribe\")})}catch(e){console.log(e)}}}},9:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.default=function(){var e,t,n,o;window.fbAsyncInit=function(){FB.init({appId:chromaApp.fbAppID,autoLogAppEvents:!0,xfbml:!0,version:\"v3.2\"})},e=document,t=\"facebook-jssdk\",o=e.getElementsByTagName(\"script\")[0],e.getElementById(t)||((n=e.createElement(\"script\")).id=t,n.src=\"https://connect.facebook.net/en_US/sdk.js\",o.parentNode.insertBefore(n,o)),this.fbLogin=function(t){FB.login(function(e){var n;n=t,FB.getLoginStatus(function(e){var t;t=n,\"connected\"===e.status&&(console.log(\"user logged in and ready to submit data\"),formProceszr.facebookSignup(t))})},{scope:\"email\"})}}}});","extractedComments":[]}